Football IQ - Expanded Technical RoadmapThis roadmap breaks down the PRD into atomic work units. Each item represents a single Work Ticket (Prompt) for the Coding Agent.Phase 1: Environment & Infrastructure (Sprints 1-2)1.1 Supabase Foundation: Initialize project, Auth config (OTP/Anonymous), and base SQL schema (Profiles & Puzzles).1.2 Expo Architecture: Scaffold React Native app with Folder-by-Feature structure and TypeScript.1.3 Theme Engine: Implement the "Digital Pitch" design system (Colors, Elevated Button components, Typography).1.4 Navigation Shell: Setup Expo Router with Bottom Tabs (Home, Archive, Stats, Settings).Phase 2: Local Engine & Sync (Sprints 3-4)2.1 SQLite Setup: Implement Expo SQLite storage and basic "Puzzles" table.2.2 Sync Logic (Provider): Create a React Context to handle fetching daily puzzles from Supabase and caching them locally.2.3 Auth State Management: Profile creation logic on first-run and persistence of user_id.2.4 Offline Guard: Implementation of "Offline Mode" banners and local attempt queueing.Phase 3: Game Mode UI & Logic (Sprints 5-8)3.1 Career Path (UI): Clue list component with "Spring" reveal animations.3.2 Career Path (Logic): Answer validation, scoring (1-6 scale), and state management.3.3 Transfer Guess: Image-less transfer cards (From/To/Year/Fee) and keyboard input handler.3.4 Goalscorer Recall: Timer-based input screen with fuzzy-matching for player names.3.5 Tic Tac Toe (Grid): 3x3 Grid UI with category labels and "Selection" state.3.6 Tic Tac Toe (Validation): Integration with Supabase to check if [Player] played for [Team A] and [Team B].3.7 Topical Quiz: Multiple-choice engine with progress bars and speed-bonus logic.Phase 4: Social & Sharing (Sprint 9)4.1 Score Generator: Logic to convert game performance into Wordle-style emoji strings (ðŸŸ©â¬›ðŸŸ¨).4.2 Native Share API: Integration with system share sheets and clipboard copying.4.3 Streak Tracker: Logic to calculate and display current/longest streaks per game mode.Phase 5: Python AI Agents (Sprints 10-12)5.1 Data Ingestion: Python script using requests to pull match data from Football APIs into Supabase match_data.5.2 Reasoning Engine: Agent logic to identify "Interesting Matches" (upsets, hat-tricks) and suggest puzzle types.5.3 Puzzle Creator: LLM-driven generation of Career Path/Transfer JSON based on verified match data.5.4 Fact-Checker: Automated Wikipedia/Transfermarkt scraper to verify agent-generated facts.Phase 6: Next.js CMS (Sprints 13-14)6.1 Admin Dashboard: Table view of "Pending" puzzles generated by AI agents.6.2 Editorial Tools: Manual puzzle creator and "Approve/Schedule" workflow for the daily calendar.Phase 7: Monetization & Polish (Sprints 15-16)7.1 Premium Gating: RLS policy implementation and Archive screen locking.7.2 RevenueCat Integration: In-app purchase flow for "Archive Unlock."7.3 Final Polish: Haptics, sound effects, and push notification triggers.
